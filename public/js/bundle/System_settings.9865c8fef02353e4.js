/*! For license information please see System_settings.9865c8fef02353e4.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3452],{52597:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(95353),o=a(5947),r=a.n(o);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function r(a,n,o,r){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return l(u,"_invoke",function(a,n,o){var r,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,a){return r=t,s=0,l=e,f.n=a,i}};function m(a,n){for(s=a,l=n,t=0;!d&&c&&!o&&t<u.length;t++){var o,r=u[t],m=f.p,g=r[2];a>3?(o=g===n)&&(l=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=e):r[0]<=m&&((o=a<2&&m<r[1])?(s=0,f.v=n,f.n=r[1]):m<g&&(o=a<3||r[0]>n||n>g)&&(r[4]=a,r[5]=n,f.n=g,s=0))}if(o||a>1)return i;throw d=!0,n}return function(o,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,g),s=u,l=g;(t=s<2?e:l)||!d;){r||(s?s<3?(s>1&&(f.n=-1),m(s,l)):f.n=l:f.v=l);try{if(c=2,r){if(s||(o="next"),t=r[o]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=r.return)&&t.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);r=e}else if((t=(d=f.n<0)?l:a.call(n,f))!==i)break}catch(t){r=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(a,o,r),!0),u}var i={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(l(t={},n,function(){return this}),t),m=d.prototype=c.prototype=Object.create(f);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return u.prototype=d,l(m,"constructor",d),l(d,"constructor",u),u.displayName="GeneratorFunction",l(d,o,"GeneratorFunction"),l(m),l(m,o,"Generator"),l(m,n,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),(s=function(){return{w:r,m:g}})()}function l(e,t,a,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,a,n){function r(t,a){l(e,t,function(e){return this._invoke(t,a,e)})}t?o?o(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a:(r("next",0),r("throw",1),r("return",2))},l(e,t,a,n)}function c(e,t,a,n,o,r,i){try{var s=e[r](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){f(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function f(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const m={metaInfo:{title:"System Settings"},data:function(){return{isLoading:!0,data:new FormData,settings:[],currencies:[],clients:[],warehouses:[],sms_gateway:[],zones_array:[],languages:[],setting:{client_id:"",warehouse_id:"",currency_id:"",email:"",logo:"",CompanyName:"",CompanyPhone:"",CompanyAdress:"",footer:"",developed_by:"",default_language:"",sms_gateway:"",is_invoice_footer:"",invoice_footer:"",quotation_with_stock:"",show_language:""}}},methods:d(d({},(0,n.i0)(["refreshUserPermissions"])),{},{SetLocal:function(e){this.$i18n.locale=e,this.$store.dispatch("language/setLanguage",e),Fire.$emit("ChangeLanguage"),window.location.reload()},Submit_Setting:function(){var e=this;this.$refs.form_setting.validate().then(function(t){t?e.Update_Settings():e.makeToast("danger",e.$t("Please_fill_the_form_correctly"),e.$t("Failed"))})},makeToast:function(e,t,a){this.$root.$bvToast.toast(t,{title:a,variant:e,solid:!0})},getValidationState:function(e){var t=e.dirty,a=e.validated,n=e.valid;return t||a?void 0===n?null:n:null},onFileSelected:function(e){var t,a=this;return(t=s().m(function t(){var n,o;return s().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a.$refs.Logo.validate(e);case 1:n=t.v,o=n.valid,a.setting.logo=o?e.target.files[0]:"";case 2:return t.a(2)}},t)}),function(){var e=this,a=arguments;return new Promise(function(n,o){var r=t.apply(e,a);function i(e){c(r,n,o,i,s,"next",e)}function s(e){c(r,n,o,i,s,"throw",e)}i(void 0)})})()},Selected_Time_Zone:function(e){null===e&&(this.setting.timezone="")},Update_Settings:function(){var e=this;r().start(),r().set(.1);var t=this;t.data.append("client",t.setting.client_id),t.data.append("warehouse",t.setting.warehouse_id),t.data.append("currency",t.setting.currency_id),t.data.append("email",t.setting.email),t.data.append("logo",t.setting.logo),t.data.append("CompanyName",t.setting.CompanyName),t.data.append("CompanyPhone",t.setting.CompanyPhone),t.data.append("CompanyAdress",t.setting.CompanyAdress),t.data.append("footer",t.setting.footer),t.data.append("developed_by",t.setting.developed_by),t.data.append("default_language",t.setting.default_language),t.data.append("sms_gateway",t.setting.sms_gateway),t.data.append("is_invoice_footer",t.setting.is_invoice_footer),t.data.append("invoice_footer",t.setting.invoice_footer),t.data.append("quotation_with_stock",t.setting.quotation_with_stock),t.data.append("show_language",t.setting.show_language),t.data.append("timezone",t.setting.timezone),t.data.append("_method","put"),axios.post("settings/"+t.setting.id,t.data).then(function(a){Fire.$emit("Event_Setting"),e.makeToast("success",e.$t("Successfully_Updated"),e.$t("Success")),e.refreshUserPermissions(),r().done(),e.SetLocal(t.setting.default_language)}).catch(function(t){e.makeToast("danger",e.$t("InvalidData"),e.$t("Failed")),r().done()})},Clear_Cache:function(){var e=this;r().start(),r().set(.1),axios.get("clear_cache").then(function(t){e.makeToast("success",e.$t("Cache_cleared_successfully"),e.$t("Success")),r().done()}).catch(function(t){r().done(),e.makeToast("danger",e.$t("Failed_to_clear_cache"),e.$t("Failed"))})},Get_Settings:function(){var e=this;axios.get("get_Settings_data").then(function(t){e.setting=t.data.settings,e.currencies=t.data.currencies,e.clients=t.data.clients,e.warehouses=t.data.warehouses,e.sms_gateway=t.data.sms_gateway,e.zones_array=t.data.zones_array,e.languages=t.data.languages,e.isLoading=!1}).catch(function(t){setTimeout(function(){e.isLoading=!1},500)})}}),created:function(){var e=this;this.Get_Settings(),Fire.$on("Event_Setting",function(){e.Get_Settings()})}};const g=(0,a(14486).A)(m,function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:e.$t("SystemSettings"),folder:e.$t("Settings")}}),e._v(" "),e.isLoading?t("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e._e(),e._v(" "),e.isLoading?e._e():t("validation-observer",{ref:"form_setting"},[t("b-form",{on:{submit:function(t){return t.preventDefault(),e.Submit_Setting.apply(null,arguments)}}},[t("b-row",[t("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[t("b-card",{attrs:{"no-body":"",header:e.$t("SystemSettings")}},[t("b-card-body",[t("b-row",[t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("DefaultCurrency")}},[t("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Currency"),options:e.currencies.map(function(e){return{label:e.name,value:e.id}})},model:{value:e.setting.currency_id,callback:function(t){e.$set(e.setting,"currency_id",t)},expression:"setting.currency_id"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{attrs:{name:"Email",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("DefaultEmail")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(a),"aria-describedby":"Email-feedback",label:"Email",placeholder:e.$t("DefaultEmail")},model:{value:e.setting.email,callback:function(t){e.$set(e.setting,"email",t)},expression:"setting.email"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Email-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,4279491894)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{ref:"Logo",attrs:{name:"Logo",rules:"mimes:image/*|size:200"},scopedSlots:e._u([{key:"default",fn:function(a){a.validate;var n=a.valid,o=a.errors;return t("b-form-group",{attrs:{label:e.$t("ChangeLogo")}},[t("input",{class:{"is-invalid":!!o.length},attrs:{state:!o[0]&&(!!n||null),label:"Choose Logo",type:"file"},on:{change:e.onFileSelected}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Logo-feedback"}},[e._v(e._s(o[0]))])],1)}}],null,!1,3189141354)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{attrs:{name:"Company Name",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("CompanyName")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(a),"aria-describedby":"Company-feedback",label:"Company Name",placeholder:e.$t("CompanyName")},model:{value:e.setting.CompanyName,callback:function(t){e.$set(e.setting,"CompanyName",t)},expression:"setting.CompanyName"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Company-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,1317089302)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{attrs:{name:"Company Phone",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("CompanyPhone")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(a),"aria-describedby":"Phone-feedback",label:"Company Phone",placeholder:e.$t("CompanyPhone")},model:{value:e.setting.CompanyPhone,callback:function(t){e.$set(e.setting,"CompanyPhone",t)},expression:"setting.CompanyPhone"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Phone-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,1395357846)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{attrs:{name:"developed by",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("developed_by")+" *"}},[t("b-form-input",{staticClass:"form-control",attrs:{state:e.getValidationState(a),"aria-describedby":"developed_by-feedback"},model:{value:e.setting.developed_by,callback:function(t){e.$set(e.setting,"developed_by",t)},expression:"setting.developed_by"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"developed_by-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,4204870398)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("validation-provider",{attrs:{name:"footer",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("footer")+" *"}},[t("b-form-input",{staticClass:"form-control",attrs:{state:e.getValidationState(a),"aria-describedby":"footer-feedback"},model:{value:e.setting.footer,callback:function(t){e.$set(e.setting,"footer",t)},expression:"setting.footer"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"footer-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,3264557662)})],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("DefaultLanguage")}},[t("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("DefaultLanguage"),options:e.languages.map(function(e){return{label:e.name,value:e.locale}})},model:{value:e.setting.default_language,callback:function(t){e.$set(e.setting,"default_language",t)},expression:"setting.default_language"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("DefaultCustomer")}},[t("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Customer"),options:e.clients.map(function(e){return{label:e.name,value:e.id}})},model:{value:e.setting.client_id,callback:function(t){e.$set(e.setting,"client_id",t)},expression:"setting.client_id"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("DefaultWarehouse")}},[t("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_Warehouse"),options:e.warehouses.map(function(e){return{label:e.name,value:e.id}})},model:{value:e.setting.warehouse_id,callback:function(t){e.$set(e.setting,"warehouse_id",t)},expression:"setting.warehouse_id"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("Default_SMS_Gateway")}},[t("v-select",{attrs:{reduce:function(e){return e.value},placeholder:e.$t("Choose_SMS_Gateway"),options:e.sms_gateway.map(function(e){return{label:e.title,value:e.id}})},model:{value:e.setting.sms_gateway,callback:function(t){e.$set(e.setting,"sms_gateway",t)},expression:"setting.sms_gateway"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[t("b-form-group",{attrs:{label:e.$t("Time_Zone")}},[t("v-select",{attrs:{placeholder:e.$t("Time_Zone"),reduce:function(e){return e.value},options:e.zones_array.map(function(e){return{label:e.label,value:e.zone}})},on:{input:e.Selected_Time_Zone},model:{value:e.setting.timezone,callback:function(t){e.$set(e.setting,"timezone",t)},expression:"setting.timezone"}})],1)],1),e._v(" "),t("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[t("validation-provider",{attrs:{name:"Adress",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("Adress")+" *"}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.setting.CompanyAdress,expression:"setting.CompanyAdress"}],staticClass:"form-control",attrs:{state:e.getValidationState(a),"aria-describedby":"Adress-feedback",placeholder:e.$t("Afewwords")},domProps:{value:e.setting.CompanyAdress},on:{input:function(t){t.target.composing||e.$set(e.setting,"CompanyAdress",t.target.value)}}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Adress-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,758978009)})],1),e._v(" "),t("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"2",sm:"2"}},[t("label",{staticClass:"checkbox checkbox-primary mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.setting.is_invoice_footer,expression:"setting.is_invoice_footer"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.setting.is_invoice_footer)?e._i(e.setting.is_invoice_footer,null)>-1:e.setting.is_invoice_footer},on:{change:function(t){var a=e.setting.is_invoice_footer,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(e.setting,"is_invoice_footer",a.concat([null])):r>-1&&e.$set(e.setting,"is_invoice_footer",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.setting,"is_invoice_footer",o)}}}),t("h5",[e._v(e._s(e.$t("invoice_footer"))+" ")]),t("span",{staticClass:"checkmark"})])]),e._v(" "),e.setting.is_invoice_footer?t("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"6",sm:"6"}},[t("validation-provider",{attrs:{name:"invoice_footer",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-form-group",{attrs:{label:e.$t("invoice_footer")+" *"}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.setting.invoice_footer,expression:"setting.invoice_footer"}],staticClass:"form-control",attrs:{state:e.getValidationState(a),"aria-describedby":"invoice_footer-feedback",placeholder:e.$t("invoice_footer")},domProps:{value:e.setting.invoice_footer},on:{input:function(t){t.target.composing||e.$set(e.setting,"invoice_footer",t.target.value)}}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"invoice_footer-feedback"}},[e._v(e._s(a.errors[0]))])],1)]}}],null,!1,4052989155)})],1):e._e(),e._v(" "),t("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"4"}},[t("label",{staticClass:"checkbox checkbox-primary mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.setting.quotation_with_stock,expression:"setting.quotation_with_stock"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.setting.quotation_with_stock)?e._i(e.setting.quotation_with_stock,null)>-1:e.setting.quotation_with_stock},on:{change:function(t){var a=e.setting.quotation_with_stock,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(e.setting,"quotation_with_stock",a.concat([null])):r>-1&&e.$set(e.setting,"quotation_with_stock",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.setting,"quotation_with_stock",o)}}}),t("h5",[e._v(e._s(e.$t("Create_Quotation_with_Stock"))+" ")]),t("span",{staticClass:"checkmark"})])]),e._v(" "),t("b-col",{staticClass:"mt-4 mb-4",attrs:{md:"4"}},[t("label",{staticClass:"checkbox checkbox-primary mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.setting.show_language,expression:"setting.show_language"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.setting.show_language)?e._i(e.setting.show_language,null)>-1:e.setting.show_language},on:{change:function(t){var a=e.setting.show_language,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&e.$set(e.setting,"show_language",a.concat([null])):r>-1&&e.$set(e.setting,"show_language",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.setting,"show_language",o)}}}),t("h5",[e._v("Show Languages ")]),t("span",{staticClass:"checkmark"})])]),e._v(" "),t("b-col",{attrs:{md:"12"}},[t("b-form-group",[t("b-button",{attrs:{variant:"primary",type:"submit"}},[t("i",{staticClass:"i-Yes me-2 font-weight-bold"}),e._v(" "+e._s(e.$t("submit")))])],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),e.isLoading?e._e():t("b-form",{on:{submit:function(t){return t.preventDefault(),e.Clear_Cache.apply(null,arguments)}}},[t("b-row",{staticClass:"mt-5"},[t("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[t("b-card",{attrs:{"no-body":"",header:e.$t("Clear_Cache")}},[t("b-card-body",[t("b-row",[t("b-col",{attrs:{md:"12"}},[t("b-form-group",[t("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.Clear_Cache()}}},[e._v(e._s(e.$t("Clear_Cache")))])],1)],1)],1)],1)],1)],1)],1)],1)],1)},[],!1,null,null,null).exports}}]);