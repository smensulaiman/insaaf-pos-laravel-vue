/*! For license information please see translations_view.5d07ab64fec44404.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5333],{27012:(t,n,e)=>{e.r(n),e.d(n,{default:()=>l});function a(){var t,n,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,a,s,o){var i=a&&a.prototype instanceof c?a:c,u=Object.create(i.prototype);return r(u,"_invoke",function(e,a,r){var s,o,i,c=0,u=r||[],f=!1,v={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,e){return s=n,o=0,i=t,v.n=e,l}};function d(e,a){for(o=e,i=a,n=0;!f&&c&&!r&&n<u.length;n++){var r,s=u[n],d=v.p,p=s[2];e>3?(r=p===a)&&(i=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=t):s[0]<=d&&((r=e<2&&d<s[1])?(o=0,v.v=a,v.n=s[1]):d<p&&(r=e<3||s[0]>a||a>p)&&(s[4]=e,s[5]=a,v.n=p,o=0))}if(r||e>1)return l;throw f=!0,a}return function(r,u,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,p),o=u,i=p;(n=o<2?t:i)||!f;){s||(o?o<3?(o>1&&(v.n=-1),d(o,i)):v.n=i:v.v=i);try{if(c=2,s){if(o||(r="next"),n=s[r]){if(!(n=n.call(s,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,o<2&&(o=0)}else 1===o&&(n=s.return)&&n.call(s),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);s=t}else if((n=(f=v.n<0)?i:e.call(a,v))!==l)break}catch(n){s=t,o=1,i=n}finally{c=1}}return{value:n,done:f}}}(e,s,o),!0),u}var l={};function c(){}function u(){}function f(){}n=Object.getPrototypeOf;var v=[][s]?n(n([][s]())):(r(n={},s,function(){return this}),n),d=f.prototype=c.prototype=Object.create(v);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,r(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=f,r(d,"constructor",f),r(f,"constructor",u),u.displayName="GeneratorFunction",r(f,o,"GeneratorFunction"),r(d),r(d,o,"Generator"),r(d,s,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:p}})()}function r(t,n,e,a){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}r=function(t,n,e,a){function o(n,e){r(t,n,function(t){return this._invoke(n,e,t)})}n?s?s(t,n,{value:e,enumerable:!a,configurable:!a,writable:!a}):t[n]=e:(o("next",0),o("throw",1),o("return",2))},r(t,n,e,a)}function s(t,n,e,a,r,s,o){try{var i=t[s](o),l=i.value}catch(t){return void e(t)}i.done?n(l):Promise.resolve(l).then(a,r)}function o(t){return function(){var n=this,e=arguments;return new Promise(function(a,r){var o=t.apply(n,e);function i(t){s(o,a,r,i,l,"next",t)}function l(t){s(o,a,r,i,l,"throw",t)}i(void 0)})}}const i={data:function(){return{showAddModal:!1,newTranslation:{key:"",value:""},locale:this.$route.params.locale,language:"",translations:[],originalTranslations:[],totalRows:0,currentPage:1,perPage:100,isLoading:!1,searchQuery:"",searchInput:""}},computed:{filteredTranslations:function(){var t=this;return this.searchQuery?this.translations.filter(function(n){return n.key.toLowerCase().includes(t.searchQuery.toLowerCase())}):this.translations}},methods:{submitNewTranslation:function(){var t=this;return o(a().m(function n(){return a().w(function(n){for(;;)switch(n.p=n.n){case 0:if(t.newTranslation.key){n.n=1;break}return n.a(2);case 1:return n.p=1,n.n=2,axios.put("/translations_setting/".concat(t.locale),{key:t.newTranslation.key,value:t.newTranslation.value});case 2:t.$bvToast.toast(t.$t("Translation added"),{title:t.$t("Success"),variant:"success",solid:!0}),t.showAddModal=!1,t.newTranslation.key="",t.newTranslation.value="",t.fetchTranslations(t.currentPage),n.n=4;break;case 3:n.p=3,n.v,t.$bvToast.toast(t.$t("Failed to add translation"),{title:t.$t("Failed"),variant:"danger",solid:!0});case 4:return n.a(2)}},n,null,[[1,3]])}))()},applySearch:function(){this.searchQuery=this.searchInput,this.currentPage=1,this.fetchTranslations(1)},resetSearch:function(){this.searchInput="",this.searchQuery="",this.currentPage=1,this.fetchTranslations(1)},fetchTranslations:function(){var t=arguments,n=this;return o(a().m(function e(){var r,s;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:1,n.isLoading=!0,e.p=1,e.n=2,axios.get("/translations_setting/".concat(n.locale),{params:{page:r,per_page:n.perPage,search:n.searchQuery}});case 2:s=e.v,n.translations=s.data.data,n.originalTranslations=JSON.parse(JSON.stringify(s.data.data)),n.totalRows=s.data.total,n.currentPage=s.data.current_page,n.language=s.data.language,e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},saveTranslation:function(t){var n=this;return o(a().m(function e(){return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,axios.put("/translations_setting/".concat(n.locale),{key:t.key,value:t.value});case 1:n.$bvToast.toast(n.$t("Translation updated"),{title:"Success",variant:"success",solid:!0}),e.n=3;break;case 2:e.p=2,e.v,n.$bvToast.toast(n.$t("Failed to update"),{title:n.$t("Failed"),variant:"danger",solid:!0});case 3:return e.a(2)}},e,null,[[0,2]])}))()},bulkSave:function(){var t=this;return o(a().m(function n(){var e;return a().w(function(n){for(;;)switch(n.p=n.n){case 0:if((e=t.translations.filter(function(n,e){var a;return n.value!==(null===(a=t.originalTranslations[e])||void 0===a?void 0:a.value)})).length){n.n=1;break}return t.$bvToast.toast(t.$t("No changes to save"),{title:t.$t("Notice"),variant:"info",solid:!0}),n.a(2);case 1:return t.isLoading=!0,n.p=2,n.n=3,Promise.all(e.map(function(n){return axios.put("/translations_setting/".concat(t.locale),{key:n.key,value:n.value})}));case 3:t.$bvToast.toast(t.$t("All changes saved successfully"),{title:t.$t("Success"),variant:"success",solid:!0}),t.fetchTranslations(t.currentPage),n.n=5;break;case 4:n.p=4,n.v,t.$bvToast.toast(t.$t("Bulk save failed"),{title:t.$t("Failed"),variant:"danger",solid:!0});case 5:return n.p=5,t.isLoading=!1,n.f(5);case 6:return n.a(2)}},n,null,[[2,4,5,6]])}))()},deleteTranslation:function(t){var n=this;return o(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:if(n.translations.find(function(n){return n.key===t})){e.n=1;break}return e.a(2);case 1:n.$swal({title:n.$t("Delete_Title"),text:n.$t("Delete_Text"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:n.$t("Delete_cancelButtonText"),confirmButtonText:n.$t("Delete_confirmButtonText")}).then(function(){var e=o(a().m(function e(r){return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!r.value){e.n=5;break}return e.p=1,e.n=2,axios.delete("/translations_setting/".concat(n.locale,"/").concat(t));case 2:n.$swal(n.$t("Delete_Deleted"),n.$t("Deleted_in_successfully"),"success"),n.fetchTranslations(n.currentPage),e.n=4;break;case 3:e.p=3,e.v,n.$swal(n.$t("Delete_Failed"),n.$t("Delete_Therewassomethingwronge"),"warning");case 4:return e.p=4,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}());case 2:return e.a(2)}},e)}))()}},watch:{currentPage:function(t){this.fetchTranslations(t)},searchQuery:function(){this.currentPage=1,this.fetchTranslations(1)}},created:function(){this.fetchTranslations()}};const l=(0,e(14486).A)(i,function(){var t=this,n=t._self._c;return n("div",{staticClass:"main-content"},[n("breadcumb",{attrs:{page:t.$t("Translations"),folder:t.$t("Settings")}}),t._v(" "),t.isLoading?n("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():n("div",[n("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[n("div",[n("b-button",{attrs:{variant:"secondary"},on:{click:function(n){return t.$router.push("/app/settings/translations_settings")}}},[t._v("\n          ‚Üê "+t._s(t.$t("Back"))+"\n        ")])],1),t._v(" "),n("h4",{staticClass:"mb-0"},[t._v(t._s(t.$t("Translations for"))+' " '+t._s(t.language)+' "')]),t._v(" "),n("div")]),t._v(" "),n("b-alert",{staticClass:"w-100 mb-3 text-center",attrs:{variant:"info",show:""}},[t._v("\n      üîÑ "+t._s(t.$t("Please reload the page after saving translations to apply the changes."))+"\n    ")]),t._v(" "),n("div",{staticClass:"mb-3"},[n("b-row",{staticClass:"gy-2 align-items-center"},[n("b-col",{staticClass:"mt-2",attrs:{cols:"12",md:"8"}},[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Search by key or value..."},model:{value:t.searchInput,callback:function(n){t.searchInput=n},expression:"searchInput"}}),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{variant:"primary"},on:{click:t.applySearch}},[t._v("\n              üîç\n            ")]),t._v(" "),n("b-button",{attrs:{variant:"warning"},on:{click:t.resetSearch}},[t._v("\n              üîÑ\n            ")])],1)],1)],1),t._v(" "),n("b-col",{staticClass:"mt-2",attrs:{cols:"12",md:"4"}},[n("b-button",{staticClass:"mr-2",attrs:{variant:"info"},on:{click:function(n){t.showAddModal=!0}}},[t._v("\n          ‚ûï "+t._s(t.$t("Add New"))+"\n        ")]),t._v(" "),n("b-button",{attrs:{variant:"success"},on:{click:t.bulkSave}},[t._v("\n          üíæ "+t._s(t.$t("Save All Changes"))+"\n        ")])],1)],1)],1),t._v(" "),n("b-modal",{attrs:{title:t.$t("Add New Translation"),"ok-title":"Add","cancel-title":"Cancel"},on:{ok:t.submitNewTranslation},model:{value:t.showAddModal,callback:function(n){t.showAddModal=n},expression:"showAddModal"}},[n("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("b-form-group",{attrs:{label:"Key"}},[n("b-form-input",{attrs:{required:""},model:{value:t.newTranslation.key,callback:function(n){t.$set(t.newTranslation,"key",n)},expression:"newTranslation.key"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Value"}},[n("b-form-input",{model:{value:t.newTranslation.value,callback:function(n){t.$set(t.newTranslation,"value",n)},expression:"newTranslation.value"}})],1)],1)],1),t._v(" "),n("b-table",{attrs:{items:t.filteredTranslations,fields:["key","value","actions"],busy:t.isLoading,responsive:"",bordered:"",striped:"",small:""},scopedSlots:t._u([{key:"cell(key)",fn:function(t){return[n("b-form-input",{attrs:{value:t.item.key,disabled:""}})]}},{key:"cell(value)",fn:function(e){return[n("b-form-input",{model:{value:e.item.value,callback:function(n){t.$set(e.item,"value",n)},expression:"data.item.value"}})]}},{key:"cell(actions)",fn:function(e){return[n("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(n){return t.saveTranslation(e.item)}}},[t._v("\n      "+t._s(t.$t("Save"))+"\n    ")]),t._v(" "),"en"!=e.item.locale?n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(n){return t.deleteTranslation(e.item.key)}}},[t._v(t._s(t.$t("Delete"))+"\n    ")]):t._e()]}}],null,!1,3471801801)}),t._v(" "),n("b-pagination",{staticClass:"mt-3",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"center"},model:{value:t.currentPage,callback:function(n){t.currentPage=n},expression:"currentPage"}}),t._v(" "),n("div",{staticClass:"text-muted text-right mb-2"},[t._v("\n  "+t._s(t.$t("Showing"))+" "+t._s(t.translations.length)+" of "+t._s(t.totalRows)+" "+t._s(t.$t("Translations"))+"\n")])],1)],1)},[],!1,null,null,null).exports}}]);