/*! For license information please see translations_settings.9865c8fef02353e4.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9481],{56752:(t,e,n)=>{n.r(e),n.d(e,{default:()=>d});var a=n(5947),r=n.n(a);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var i=a&&a.prototype instanceof u?a:u,l=Object.create(i.prototype);return c(l,"_invoke",function(n,a,r){var o,i,c,u=0,l=r||[],f=!1,g={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return o=e,i=0,c=t,g.n=n,s}};function m(n,a){for(i=n,c=a,e=0;!f&&u&&!r&&e<l.length;e++){var r,o=l[e],m=g.p,d=o[2];n>3?(r=d===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,g.v=a,g.n=o[1]):m<d&&(r=n<3||o[0]>a||a>d)&&(o[4]=n,o[5]=a,g.n=d,i=0))}if(r||n>1)return s;throw f=!0,a}return function(r,l,d){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,d),i=l,c=d;(e=i<2?t:c)||!f;){o||(i?i<3?(i>1&&(g.n=-1),m(i,c)):g.n=c:g.v=c);try{if(u=2,o){if(i||(r="next"),e=o[r]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=t}else if((e=(f=g.n<0)?c:n.call(a,g))!==s)break}catch(e){o=t,i=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,r,o),!0),l}var s={};function u(){}function l(){}function f(){}e=Object.getPrototypeOf;var g=[][a]?e(e([][a]())):(c(e={},a,function(){return this}),e),m=f.prototype=u.prototype=Object.create(g);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=f,c(m,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,r,"GeneratorFunction"),c(m),c(m,r,"Generator"),c(m,a,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:d}})()}function c(t,e,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}c=function(t,e,n,a){function o(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},c(t,e,n,a)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e,n,a,r,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(a,r)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function i(t){f(o,a,r,i,c,"next",t)}function c(t){f(o,a,r,i,c,"throw",t)}i(void 0)})}}const m={metaInfo:{title:"Languages"},data:function(){return{isLoading:!0,SubmitProcessing:!1,languages:[],lang:{id:null,name:"",locale:"",flag:null}}},methods:{onToggleDefault:function(t){var e=this;return g(i().m(function n(){return i().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,axios.post("/languages_setting/".concat(t.id,"/set-default"));case 1:e.languages=e.languages.map(function(e){return u(u({},e),{},{is_default:e.id===t.id})}),e.SetLocal(t.locale),e.makeToast("success",e.$t("Successfully_Updated"),e.$t("Success")),n.n=3;break;case 2:n.p=2,n.v,e.makeToast("danger",e.$t("InvalidData"),e.$t("Failed"));case 3:return n.a(2)}},n,null,[[0,2]])}))()},onToggleActive:function(t){var e=this;return g(i().m(function n(){return i().w(function(n){for(;;)switch(n.p=n.n){case 0:if(!t.is_default){n.n=1;break}return e.makeToast("danger","Cannot change default language",e.$t("Failed")),n.a(2);case 1:return n.p=1,n.n=2,axios.post("/languages_setting/".concat(t.id,"/set-active"));case 2:e.makeToast("success",e.$t("Successfully_Updated"),e.$t("Success")),window.location.reload(),n.n=4;break;case 3:n.p=3,n.v,e.makeToast("danger",e.$t("InvalidData"),e.$t("Failed"));case 4:return n.a(2)}},n,null,[[1,3]])}))()},fetchLanguages:function(){var t=this;return g(i().m(function e(){var n,a;return i().w(function(e){for(;;)switch(e.n){case 0:return t.isLoading=!0,e.n=1,axios.get("/languages_setting");case 1:n=e.v,a=n.data,t.languages=a,t.isLoading=!1;case 2:return e.a(2)}},e)}))()},submitLang:function(){var t=this;return g(i().m(function e(){var n;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.SubmitProcessing=!0,(n=new FormData).append("name",t.lang.name),n.append("locale",t.lang.locale),t.lang.flag&&n.append("flag",t.lang.flag),e.p=1,!t.lang.id){e.n=3;break}return e.n=2,axios.post("/languages_setting/".concat(t.lang.id,"?_method=PUT"),n);case 2:e.n=4;break;case 3:return e.n=4,axios.post("/languages_setting",n);case 4:t.makeToast("success",t.$t("Successfully_Created"),t.$t("Success")),t.resetForm(),t.fetchLanguages(),t.SubmitProcessing=!1,e.n=6;break;case 5:e.p=5,e.v,t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed")),t.SubmitProcessing=!1;case 6:return e.a(2)}},e,null,[[1,5]])}))()},deleteLang:function(t){var e=this;return g(i().m(function n(){var a;return i().w(function(n){for(;;)switch(n.n){case 0:if(a=e.languages.find(function(e){return e.id===t})){n.n=1;break}return n.a(2);case 1:if(!a.is_default){n.n=2;break}return e.$swal(e.$t("Action_Blocked"),e.$t("You_cannot_delete_the_default_language"),"error"),n.a(2);case 2:e.$swal({title:e.$t("Delete_Title"),text:e.$t("Delete_Text"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:e.$t("Delete_cancelButtonText"),confirmButtonText:e.$t("Delete_confirmButtonText")}).then(function(){var n=g(i().m(function n(a){return i().w(function(n){for(;;)switch(n.p=n.n){case 0:if(!a.value){n.n=4;break}return r().start(),r().set(.1),n.p=1,n.n=2,axios.delete("languages_setting/"+t);case 2:e.$swal(e.$t("Delete_Deleted"),e.$t("Deleted_in_successfully"),"success"),e.fetchLanguages(),setTimeout(function(){return r().done()},500),n.n=4;break;case 3:n.p=3,n.v,setTimeout(function(){return r().done()},500),e.$swal(e.$t("Delete_Failed"),e.$t("Delete_Therewassomethingwronge"),"warning");case 4:return n.a(2)}},n,null,[[1,3]])}));return function(t){return n.apply(this,arguments)}}());case 3:return n.a(2)}},n)}))()},SetLocal:function(t){this.$i18n.locale=t,this.$store.dispatch("language/setLanguage",t),Fire.$emit("ChangeLanguage"),window.location.reload()},editLang:function(t){this.lang=u(u({},t),{},{flag:null})},resetForm:function(){this.lang={id:null,name:"",locale:"",flag:null}},makeToast:function(t,e,n){this.$root.$bvToast.toast(e,{title:n,variant:t,solid:!0})}},created:function(){this.fetchLanguages()}};const d=(0,n(14486).A)(m,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Languages"),folder:t.$t("Settings")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("b-card",{staticClass:"mb-4"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitLang.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:t.$t("Name")}},[e("b-form-input",{attrs:{required:""},model:{value:t.lang.name,callback:function(e){t.$set(t.lang,"name",e)},expression:"lang.name"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:t.$t("Locale")}},[e("b-form-input",{attrs:{required:""},model:{value:t.lang.locale,callback:function(e){t.$set(t.lang,"locale",e)},expression:"lang.locale"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:t.$t("Flag")}},[e("b-form-file",{attrs:{accept:"image/*"},model:{value:t.lang.flag,callback:function(e){t.$set(t.lang,"flag",e)},expression:"lang.flag"}})],1)],1)],1),t._v(" "),e("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.SubmitProcessing}},[t._v("\n        "+t._s(t.$t(t.lang.id?"Update Language":"Add Language"))+" "+t._s(t.$t("Language"))+"\n        \n      ")]),t._v(" "),t.SubmitProcessing?t._m(0):t._e(),t._v(" "),e("b-button",{staticClass:"ml-2",attrs:{type:"reset",variant:"secondary"},on:{click:t.resetForm}},[t._v("\n        "+t._s(t.$t("Reset"))+"\n      ")])],1)],1),t._v(" "),t.isLoading?t._e():e("b-table",{attrs:{items:t.languages,fields:["flag","name","locale","is_active","is_default","actions"]},scopedSlots:t._u([{key:"cell(flag)",fn:function(n){return[n.item.flag?e("img",{attrs:{src:"/flags/".concat(n.item.flag),width:"30"}}):t._e()]}},{key:"cell(is_active)",fn:function(n){return[e("b-form-checkbox",{attrs:{checked:1==n.item.is_active||1==n.item.is_active||"1"===n.item.is_active},on:{change:function(){return t.onToggleActive(n.item)}}})]}},{key:"cell(is_default)",fn:function(n){return[e("b-form-checkbox",{attrs:{checked:1==n.item.is_default||1==n.item.is_default||"1"===n.item.is_default},on:{change:function(){return t.onToggleDefault(n.item)}}})]}},{key:"cell(actions)",fn:function(n){return["en"!=n.item.locale?e("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.editLang(n.item)}}},[t._v(t._s(t.$t("Edit")))]):t._e(),t._v(" "),"en"!=n.item.locale?e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.deleteLang(n.item.id)}}},[t._v(t._s(t.$t("Delete")))]):t._e(),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(e){return t.$router.push({name:"translations_view",params:{locale:n.item.locale}})}}},[t._v("\n        "+t._s(t.$t("Translations"))+"\n      ")])]}}],null,!1,2624414291)})],1)},[function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],!1,null,null,null).exports}}]);