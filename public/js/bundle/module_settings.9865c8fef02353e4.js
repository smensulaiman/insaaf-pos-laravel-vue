/*! For license information please see module_settings.9865c8fef02353e4.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3193],{82009:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var o=n(95353);n(5947);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function s(n,o,r,a){var s=o&&o.prototype instanceof l?o:l,c=Object.create(s.prototype);return i(c,"_invoke",function(n,o,r){var a,i,s,l=0,c=r||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,i=0,s=t,f.n=n,u}};function p(n,o){for(i=n,s=o,e=0;!d&&l&&!r&&e<c.length;e++){var r,a=c[e],p=f.p,m=a[2];n>3?(r=m===o)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=p&&((r=n<2&&p<a[1])?(i=0,f.v=o,f.n=a[1]):p<m&&(r=n<3||a[0]>o||o>m)&&(a[4]=n,a[5]=o,f.n=m,i=0))}if(r||n>1)return u;throw d=!0,o}return function(r,c,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,m),i=c,s=m;(e=i<2?t:s)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,s)):f.n=s:f.v=s);try{if(l=2,a){if(i||(r="next"),e=a[r]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=t}else if((e=(d=f.n<0)?s:n.call(o,f))!==u)break}catch(e){a=t,i=1,s=e}finally{l=1}}return{value:e,done:d}}}(n,r,a),!0),c}var u={};function l(){}function c(){}function d(){}e=Object.getPrototypeOf;var f=[][o]?e(e([][o]())):(i(e={},o,function(){return this}),e),p=d.prototype=l.prototype=Object.create(f);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,r,"GeneratorFunction")),t.prototype=Object.create(p),t}return c.prototype=d,i(p,"constructor",d),i(d,"constructor",c),c.displayName="GeneratorFunction",i(d,r,"GeneratorFunction"),i(p),i(p,r,"Generator"),i(p,o,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:s,m}})()}function i(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}i=function(t,e,n,o){function a(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},i(t,e,n,o)}function s(t,e,n,o,r,a,i){try{var s=t[a](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(o,r)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const d={metaInfo:{title:"Module Settings"},data:function(){return{isLoading:!0,SubmitProcessing:!1,modules_info:[],module_zip:"",data:new FormData}},methods:l(l({},(0,o.i0)(["refreshUserPermissions"])),{},{makeToast:function(t,e,n){this.$root.$bvToast.toast(e,{title:n,variant:t,solid:!0})},onFileSelected:function(t){var e,n=this;return(e=a().m(function e(){var o,r;return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.$refs.Upload_Module.validate(t);case 1:o=e.v,r=o.valid,n.module_zip=r?t.target.files[0]:"";case 2:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(t){s(a,o,r,i,u,"next",t)}function u(t){s(a,o,r,i,u,"throw",t)}i(void 0)})})()},update_status_module:function(t){var e=this;axios.post("update_status_module",{status:t.status,name:t.module_name}).then(function(n){e.isLoading=!0,t.status?e.makeToast("success",e.$t("Module_enabled_success"),e.$t("Success")):e.makeToast("danger",e.$t("Module_Disabled_success"),e.$t("Warning")),window.location.href="/app/settings/module_settings"}).catch(function(t){e.makeToast("warning",e.$t("Delete_Therewassomethingwronge"),e.$t("Warning"))})},get_modules_info:function(){var t=this;axios.get("get_modules_info").then(function(e){t.modules_info=e.data,t.isLoading=!1}).catch(function(e){setTimeout(function(){t.isLoading=!1},500)})},Submit_Upload_Module:function(){var t=this;this.$refs.ref_Upload_Module.validate().then(function(e){e?t.Upload_Module():t.makeToast("danger",t.$t("Please_Upload_the_Correct_Module"),t.$t("Failed"))})},Upload_Module:function(){var t=this,e=this;e.SubmitProcessing=!0,e.data.append("module_zip",e.module_zip),axios.post("upload_module",e.data).then(function(n){e.SubmitProcessing=!1,window.location.reload(),t.makeToast("success",t.$t("Uploaded_Success"),t.$t("Success"))}).catch(function(n){e.SubmitProcessing=!1,t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed"))})}}),created:function(){this.get_modules_info()}};const f=(0,n(14486).A)(d,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("module_settings"),folder:t.$t("Settings")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("b-col",{attrs:{md:"12"}},[e("validation-observer",{ref:"ref_Upload_Module"},[e("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.Submit_Upload_Module.apply(null,arguments)}}},[e("div",{staticClass:"row border rounded p-3 mt-3"},[e("b-col",{attrs:{md:"12"}},[e("validation-provider",{ref:"Upload_Module",attrs:{name:"Upload Module"},scopedSlots:t._u([{key:"default",fn:function(n){n.validate;var o=n.valid,r=n.errors;return e("b-form-group",{attrs:{label:"Install/Upload Module"}},[e("input",{class:{"is-invalid":!!r.length},attrs:{state:!r[0]&&(!!o||null),label:"Upload_Module",type:"file"},on:{change:t.onFileSelected}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Upload_Module-feedback"}},[t._v(t._s(r[0]))])],1)}}],null,!1,833920476)}),t._v(" "),e("span",[t._v("The module must be uploaded as zip file")])],1),t._v(" "),e("b-col",{staticClass:"text-center mt-3",attrs:{md:"12"}},[e("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.SubmitProcessing}},[t._v("Upload Module")]),t._v(" "),t.SubmitProcessing?t._m(0):t._e()],1)],1)])],1)],1),t._v(" "),t.isLoading?t._e():e("div",{staticClass:"mt-5"},[e("b-col",{attrs:{md:"12"}},[e("h4",{directives:[{name:"show",rawName:"v-show",value:t.modules_info.length>0,expression:"modules_info.length >0"}]},[t._v("All Modules Installed")])]),t._v(" "),t._l(t.modules_info,function(n){return e("div",{key:n,staticClass:"col-md-6"},[e("div",{staticClass:"row border rounded p-3 mt-3"},[e("div",{staticClass:"col-md-12"},[e("h3",[t._v(t._s(n.module_name))])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("span",[e("strong",[t._v("Current Version")]),t._v(" : "+t._s(n.current_version))])]),t._v(" "),e("div",{staticClass:"col-md-12 mt-3"},[e("label",{staticClass:"switch switch-primary mr-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.status,expression:"module_item.status"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(n.status)?t._i(n.status,null)>-1:n.status},on:{change:[function(e){var o=n.status,r=e.target,a=!!r.checked;if(Array.isArray(o)){var i=t._i(o,null);r.checked?i<0&&t.$set(n,"status",o.concat([null])):i>-1&&t.$set(n,"status",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(n,"status",a)},function(e){return t.update_status_module(n)}]}}),t._v(" "),e("span",{staticClass:"slider"})])])])])})],2)],1)},[function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],!1,null,null,null).exports}}]);