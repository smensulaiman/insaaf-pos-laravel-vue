/*! For license information please see 7604.5d07ab64fec44404.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7604],{17604:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var n=a(5947),r=a.n(n);function i(){var t,e,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function o(a,n,r,i){var o=n&&n.prototype instanceof l?n:l,c=Object.create(o.prototype);return s(c,"_invoke",function(a,n,r){var i,s,o,l=0,c=r||[],u=!1,m={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,a){return i=e,s=0,o=t,m.n=a,d}};function f(a,n){for(s=a,o=n,e=0;!u&&l&&!r&&e<c.length;e++){var r,i=c[e],f=m.p,h=i[2];a>3?(r=h===n)&&(o=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=f&&((r=a<2&&f<i[1])?(s=0,m.v=n,m.n=i[1]):f<h&&(r=a<3||i[0]>n||n>h)&&(i[4]=a,i[5]=n,m.n=h,s=0))}if(r||a>1)return d;throw u=!0,n}return function(r,c,h){if(l>1)throw TypeError("Generator is already running");for(u&&1===c&&f(c,h),s=c,o=h;(e=s<2?t:o)||!u;){i||(s?s<3?(s>1&&(m.n=-1),f(s,o)):m.n=o:m.v=o);try{if(l=2,i){if(s||(r="next"),e=i[r]){if(!(e=e.call(i,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(o=TypeError("The iterator does not provide a '"+r+"' method"),s=1);i=t}else if((e=(u=m.n<0)?o:a.call(n,m))!==d)break}catch(e){i=t,s=1,o=e}finally{l=1}}return{value:e,done:u}}}(a,r,i),!0),c}var d={};function l(){}function c(){}function u(){}e=Object.getPrototypeOf;var m=[][n]?e(e([][n]())):(s(e={},n,function(){return this}),e),f=u.prototype=l.prototype=Object.create(m);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,s(t,r,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=u,s(f,"constructor",u),s(u,"constructor",c),c.displayName="GeneratorFunction",s(u,r,"GeneratorFunction"),s(f),s(f,r,"Generator"),s(f,n,function(){return this}),s(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:h}})()}function s(t,e,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}s=function(t,e,a,n){function i(e,a){s(t,e,function(t){return this._invoke(e,a,t)})}e?r?r(t,e,{value:a,enumerable:!n,configurable:!n,writable:!n}):t[e]=a:(i("next",0),i("throw",1),i("return",2))},s(t,e,a,n)}function o(t,e,a,n,r,i,s){try{var o=t[i](s),d=o.value}catch(t){return void a(t)}o.done?e(d):Promise.resolve(d).then(n,r)}const d={metaInfo:{title:"Brand"},data:function(){return{isLoading:!0,SubmitProcessing:!1,serverParams:{columnFilters:{},sort:{field:"id",type:"desc"},page:1,perPage:10},selectedIds:[],totalRows:"",search:"",data:new FormData,editmode:!1,brands:[],limit:"10",brand:{id:"",name:"",description:"",image:""}}},computed:{columns:function(){return[{label:this.$t("BrandImage"),field:"image",tdClass:"text-left",thClass:"text-left"},{label:this.$t("BrandName"),field:"name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("BrandDescription"),field:"description",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Action"),field:"actions",html:!0,tdClass:"text-right",thClass:"text-right",sortable:!1}]}},methods:{updateParams:function(t){this.serverParams=Object.assign({},this.serverParams,t)},onPageChange:function(t){var e=t.currentPage;this.serverParams.page!==e&&(this.updateParams({page:e}),this.Get_Brands(e))},onPerPageChange:function(t){var e=t.currentPerPage;this.limit!==e&&(this.limit=e,this.updateParams({page:1,perPage:e}),this.Get_Brands(1))},onSortChange:function(t){this.updateParams({sort:{type:t[0].type,field:t[0].field}}),this.Get_Brands(this.serverParams.page)},selectionChanged:function(t){var e=this,a=t.selectedRows;this.selectedIds=[],a.forEach(function(t,a){e.selectedIds.push(t.id)})},onSearch:function(t){this.search=t.searchTerm,this.Get_Brands(this.serverParams.page)},getValidationState:function(t){var e=t.dirty,a=t.validated,n=t.valid;return e||a?void 0===n?null:n:null},Submit_Brand:function(){var t=this;this.$refs.Create_brand.validate().then(function(e){e?t.editmode?t.Update_Brand():t.Create_Brand():t.makeToast("danger",t.$t("Please_fill_the_form_correctly"),t.$t("Failed"))})},makeToast:function(t,e,a){this.$root.$bvToast.toast(e,{title:a,variant:t,solid:!0})},onFileSelected:function(t){var e,a=this;return(e=i().m(function e(){var n,r;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a.$refs.Image.validate(t);case 1:n=e.v,r=n.valid,a.brand.image=r?t.target.files[0]:"";case 2:return e.a(2)}},e)}),function(){var t=this,a=arguments;return new Promise(function(n,r){var i=e.apply(t,a);function s(t){o(i,n,r,s,d,"next",t)}function d(t){o(i,n,r,s,d,"throw",t)}s(void 0)})})()},New_Brand:function(){this.reset_Form(),this.editmode=!1,this.$bvModal.show("New_brand")},Edit_Brand:function(t){this.Get_Brands(this.serverParams.page),this.reset_Form(),this.brand=t,this.editmode=!0,this.$bvModal.show("New_brand")},Get_Brands:function(t){var e=this;r().start(),r().set(.1),axios.get("brands?page="+t+"&SortField="+this.serverParams.sort.field+"&SortType="+this.serverParams.sort.type+"&search="+this.search+"&limit="+this.limit).then(function(t){e.brands=t.data.brands,e.totalRows=t.data.totalRows,r().done(),e.isLoading=!1}).catch(function(t){r().done(),setTimeout(function(){e.isLoading=!1},500)})},Create_Brand:function(){var t=this,e=this;e.SubmitProcessing=!0,e.data.append("name",e.brand.name),e.data.append("description",e.brand.description),e.data.append("image",e.brand.image),axios.post("brands",e.data).then(function(a){e.SubmitProcessing=!1,Fire.$emit("Event_Brand"),t.makeToast("success",t.$t("Successfully_Created"),t.$t("Success"))}).catch(function(a){e.SubmitProcessing=!1,t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed"))})},Update_Brand:function(){var t=this,e=this;e.SubmitProcessing=!0,e.data.append("name",e.brand.name),e.data.append("description",e.brand.description),e.data.append("image",e.brand.image),e.data.append("_method","put"),axios.post("brands/"+e.brand.id,e.data).then(function(a){e.SubmitProcessing=!1,Fire.$emit("Event_Brand"),t.makeToast("success",t.$t("Successfully_Updated"),t.$t("Success"))}).catch(function(a){e.SubmitProcessing=!1,t.makeToast("danger",t.$t("InvalidData"),t.$t("Failed"))})},reset_Form:function(){this.brand={id:"",name:"",description:"",image:""},this.data=new FormData},Delete_Brand:function(t){var e=this;this.$swal({title:this.$t("Delete_Title"),text:this.$t("Delete_Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete_cancelButtonText"),confirmButtonText:this.$t("Delete_confirmButtonText")}).then(function(a){a.value&&axios.delete("brands/"+t).then(function(){e.$swal(e.$t("Delete_Deleted"),e.$t("Deleted_in_successfully"),"success"),Fire.$emit("Delete_Brand")}).catch(function(){e.$swal(e.$t("Delete_Failed"),e.$t("Delete_Therewassomethingwronge"),"warning")})})},delete_by_selected:function(){var t=this;this.$swal({title:this.$t("Delete_Title"),text:this.$t("Delete_Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:this.$t("Delete_cancelButtonText"),confirmButtonText:this.$t("Delete_confirmButtonText")}).then(function(e){e.value&&(r().start(),r().set(.1),axios.post("brands/delete/by_selection",{selectedIds:t.selectedIds}).then(function(){t.$swal(t.$t("Delete_Deleted"),t.$t("Deleted_in_successfully"),"success"),Fire.$emit("Delete_Brand")}).catch(function(){setTimeout(function(){return r().done()},500),t.$swal(t.$t("Delete_Failed"),t.$t("Delete_Therewassomethingwronge"),"warning")}))})}},created:function(){var t=this;this.Get_Brands(1),Fire.$on("Event_Brand",function(){setTimeout(function(){t.Get_Brands(t.serverParams.page),t.$bvModal.hide("New_brand")},500)}),Fire.$on("Delete_Brand",function(){setTimeout(function(){t.Get_Brands(t.serverParams.page)},500)})}};const l=(0,a(14486).A)(d,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Brand"),folder:t.$t("Products")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("b-card",{staticClass:"wrapper"},[e("vue-good-table",{attrs:{mode:"remote",columns:t.columns,totalRows:t.totalRows,rows:t.brands,"search-options":{enabled:!0,placeholder:t.$t("Search_this_table")},"select-options":{enabled:!0,clearSelectionText:""},"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"table-hover tableOne vgt-table"},on:{"on-page-change":t.onPageChange,"on-per-page-change":t.onPerPageChange,"on-sort-change":t.onSortChange,"on-search":t.onSearch,"on-selected-rows-change":t.selectionChanged},scopedSlots:t._u([{key:"table-row",fn:function(a){return["actions"==a.column.field?e("span",[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Edit"},on:{click:function(e){return t.Edit_Brand(a.row)}}},[e("i",{staticClass:"i-Edit text-25 text-success"})]),t._v(" "),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Delete"},on:{click:function(e){return t.Delete_Brand(a.row.id)}}},[e("i",{staticClass:"i-Close-Window text-25 text-danger"})])]):"image"==a.column.field?e("span",[e("b-img",{attrs:{thumbnail:"",height:"50",width:"50",fluid:"",src:"/images/brands/"+a.row.image,alt:"image"}})],1):t._e()]}}],null,!1,545511441)},[e("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[e("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.delete_by_selected()}}},[t._v(t._s(t.$t("Del")))])]),t._v(" "),e("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[e("b-button",{staticClass:"btn-rounded",attrs:{variant:"btn btn-primary btn-icon m-1"},on:{click:function(e){return t.New_Brand()}}},[e("i",{staticClass:"i-Add"}),t._v("\n          "+t._s(t.$t("Add"))+"\n        ")])],1)])],1),t._v(" "),e("validation-observer",{ref:"Create_brand"},[e("b-modal",{attrs:{"hide-footer":"",size:"md",id:"New_brand",title:t.editmode?t.$t("Edit"):t.$t("Add")}},[e("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.Submit_Brand.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"12"}},[e("validation-provider",{attrs:{name:"Brand Name",rules:{required:!0,min:3,max:20}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-form-group",{attrs:{label:t.$t("BrandName")+" *"}},[e("b-form-input",{attrs:{placeholder:t.$t("Enter_Name_Brand"),state:t.getValidationState(a),"aria-describedby":"Name-feedback",label:"Name"},model:{value:t.brand.name,callback:function(e){t.$set(t.brand,"name",e)},expression:"brand.name"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Name-feedback"}},[t._v(t._s(a.errors[0]))])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("validation-provider",{attrs:{name:"Brand Description",rules:{max:30}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-form-group",{attrs:{label:t.$t("BrandDescription")}},[e("b-form-textarea",{attrs:{rows:"3",placeholder:t.$t("Enter_Description_Brand"),state:t.getValidationState(a),"aria-describedby":"Description-feedback",label:"Description"},model:{value:t.brand.description,callback:function(e){t.$set(t.brand,"description",e)},expression:"brand.description"}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Description-feedback"}},[t._v(t._s(a.errors[0]))])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("validation-provider",{ref:"Image",attrs:{name:"Image",rules:"mimes:image/*|size:200"},scopedSlots:t._u([{key:"default",fn:function(a){a.validate;var n=a.valid,r=a.errors;return e("b-form-group",{attrs:{label:t.$t("BrandImage")}},[e("input",{class:{"is-invalid":!!r.length},attrs:{state:!r[0]&&(!!n||null),label:"Choose Image",type:"file"},on:{change:t.onFileSelected}}),t._v(" "),e("b-form-invalid-feedback",{attrs:{id:"Image-feedback"}},[t._v(t._s(r[0]))])],1)}}])})],1),t._v(" "),e("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[e("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.SubmitProcessing}},[e("i",{staticClass:"i-Yes me-2 font-weight-bold"}),t._v(" "+t._s(t.$t("submit")))]),t._v(" "),t.SubmitProcessing?t._m(0):t._e()],1)],1)],1)],1)],1)],1)},[function(){var t=this._self._c;return t("div",{staticClass:"typo__p"},[t("div",{staticClass:"spinner sm spinner-primary mt-3"})])}],!1,null,null,null).exports}}]);